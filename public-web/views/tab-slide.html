<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="robots" content="index,follow">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no, email=no,adress=no">
    <!-- windows phone 点击无高光 -->
    <meta name="msapplication-tap-highlight" content="no">
    <!-- 启用360浏览器的极速模式(webkit) -->
    <meta name="renderer" content="webkit">
    <!-- 避免IE使用兼容模式 -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 针对手持设备优化，主要是针对一些老的不识别viewport的浏览器，比如黑莓 -->
    <meta name="HandheldFriendly" content="true">
    <!-- 微软的老式浏览器 -->
    <meta name="MobileOptimized" content="320">
    <!-- uc强制竖屏 -->
    <meta name="screen-orientation" content="portrait">
    <!-- QQ强制竖屏 -->
    <meta name="x5-orientation" content="portrait">
    <!-- UC强制全屏 -->
    <meta name="full-screen" content="yes">
    <!-- QQ强制全屏 -->
    <meta name="x5-fullscreen" content="true">
    <!-- UC应用模式 -->
    <meta name="browsermode" content="application">
    <!-- QQ应用模式 -->
    <meta name="x5-page-mode" content="app">
    <link rel="stylesheet" href="../plugins/swiper/swiper-4.1.6.min.css">
    <link rel="stylesheet" href="../styles/css/example.css">
    <title>移动端滑动tab切换</title>
</head>

<body>
<!--固定wrapper层 必须要-->
<div class="wrapper">
    <div>
        <ul class="tab-title">
            <span class="line"></span>
            <li class="on">现金升级</li>
            <li>积分升级</li>
            <li>现金积分升级</li>
        </ul>
        <div class="swiper-container slide-tab-content">
            <div class="swiper-wrapper">
                <div class="swiper-slide">slider1</div>
                <div class="swiper-slide">slider2</div>
                <div class="swiper-slide">slider3</div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>
</div>

<script src="../scripts/flexible.js" type="text/javascript"></script>
<script src="../plugins/jquery/jquery-3.1.1.min.js" type="text/javascript"></script>
<script src="../plugins/swiper/swiper-4.1.6.min.js" type="text/javascript"></script>
<script src="../scripts/jq-common.js" type="text/javascript"></script>

<script type="text/javascript">
    tabSwitch('.tab-title li','.tab-title .line','.swiper-slide');

    $(function(){

        /*会员升级 切换 start*/
        var $tabTile=$('.tab-title li'),
                $tabLine=$('.tab-title .line'),
                actTime=1000;

        var mySwiper = new Swiper('.swiper-container', {
            pagination: {
                el: '.swiper-pagination',
            },
            observer:true,
            speed:actTime,
            on: {
                transitionStart: function () {
                    $tabTile.eq(mySwiper.activeIndex).addClass('on').siblings().removeClass('on');
                    var left=
                            $tabTile.eq(mySwiper.activeIndex).offset().left
                            -$tabTile.parent().offset().left
                            +($tabTile.eq(mySwiper.activeIndex).outerWidth()/2)-$tabLine.width()/2;
                    $tabLine.css('left',left);
                }
            }
        });

        $tabTile.on('click',function(){
            var index_this=$tabTile.index($(this));
            mySwiper.slideTo(index_this, actTime, false);
        });
        /*会员升级 切换 end*/
    });
</script>


</body>
</html>

